
Lexical scope fails for repeat calling a function. output below should
be 11 ...
   ./turtle "a=1 &b0{a=a+1} #10b" +RTS -K1M
   [1.0,0.0,2.0]

--

haste compilation ...

 rm -rf main/ *.o *.hi *.js ; hastec  -v3 --opt-all-unsafe \
 --opt-google-closure=/home/khkramer/bin/google-closure.jar \
 turtle-haste.hs

stack is still not huge (about 5k repeats are possible). might be able
to improve this.

floor/truncate/etc seem buggy

--

ghc -o turtle -O2 -fforce-recomp -rtsopts Main.hs

# this currently runs out of stack space ... it would be nice to
# improve performance ... maybe go through and make more of the
# evaluator strict with (return $!) ?

./turtle "a=10 #100000{a=a+1}" +RTS -K1M
./turtle "a=1 #1000{a=a+1}" +RTS -K900

# also -- let's hack in a command-line flag so that we can either
runString or pgmString ...

--

